<div class="carts">
	<table class="carts" style="width: 100%">
		<tr>
			<th>Remove</th>
			<th colspan="3">Item</th>
			<th>Quantity</th>
			<th>Price</th>
			<th>Ext</th>
			<th>Weight</th>
		</tr>
		<%= form_for cart do |cart_form| %>
				<% cart.line_items.each do |line_item| %>
					<tr>
						<% model = line_item.product.model + line_item.option.model %>
						<%= cart_form.fields_for line_item, index: line_item do |line_item_form| %>
							<td class="checkbox-cell">
								<%= line_item_form.check_box :remove  %>
							</td>
							<td><%= link_to model, line_item.product %></td>
							<td><%= link_to line_item.product.category, line_item.product %></td>
							<td><%= link_to line_item.option.description, line_item.product %></td>
							<td class="quantity-cell">
								<%= line_item_form.number_field :quantity, value: line_item.quantity %>
							</td>
							<td class="item-price">
								<%= number_to_currency(line_item.option.price, precision: 0) %>
							</td>
							<td class="item-price">
								<%= number_to_currency(line_item.extended_price, precision: 0) %>
							</td>
							<td class="quantity-cell">
								<%= line_item.extended_weight %>
							</td>
						<% end %>
					</tr>
				<% end %>
		<% end %>
		<tr class="total-line">
			<td class="total-cell" colspan="6">Total</td>
			<td class="total-cell">
				<%= number_to_currency(cart.total_price, precision: 0) %>
			</td>
			<td class="total-cell">
				<%= cart.total_weight %>
			</td>
		</tr>
	</table>
	<%= button_to 'Update cart', cart_path, method: :put %>
	<%= button_to 'Empty cart', cart, method: :delete,
			data: { confirm: 'Are you sure?' } %>
	<%= button_to 'Keep shopping', products_path, method: :get %>
</div>
